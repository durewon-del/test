<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ìƒí™œì˜ ë°œê²¬ | ë‘ë ˆìƒí˜‘</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@400;700;800&family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --brown: #8b5a2b;
            --brown-dark: #6b4423;
            --brown-light: #f5ebe0;
            --brown-pale: #faf6f1;
            --cream: #fdfbf7;
            --warm: #f7f3ed;
            --black: #1a1a1a;
            --gray: #666;
            --gray-light: #999;
            --accent: #d4915d;
            --red: #c75050;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        html { scroll-snap-type: y mandatory; scroll-behavior: smooth; }
        body { font-family: 'Noto Sans KR', sans-serif; background: var(--cream); overflow-x: hidden; }

        /* ========== ë§¤ê±°ì§„ í—¤ë” ========== */
        .magazine-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: var(--brown);
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .magazine-brand {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .brand-logo {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .logo-circle {
            width: 26px;
            height: 26px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.55rem;
            color: var(--brown);
            font-weight: 800;
        }

        .logo-text {
            font-family: 'Nanum Myeongjo', serif;
            font-size: 1rem;
            font-weight: 700;
            color: white;
        }

        .brand-divider {
            width: 1px;
            height: 16px;
            background: rgba(255,255,255,0.3);
        }

        .magazine-title {
            font-family: 'Nanum Myeongjo', serif;
            font-size: 0.85rem;
            color: rgba(255,255,255,0.9);
        }

        .magazine-issue {
            font-size: 0.65rem;
            color: rgba(255,255,255,0.6);
            margin-left: 8px;
        }

        .live-visitors {
            display: flex;
            align-items: center;
            gap: 6px;
            background: rgba(255,255,255,0.15);
            padding: 5px 10px;
            border-radius: 15px;
        }

        .live-dot {
            width: 6px;
            height: 6px;
            background: #4ade80;
            border-radius: 50%;
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(0.8); }
        }

        .live-count {
            font-size: 0.7rem;
            color: white;
        }

        /* ========== ì‹¤ì‹œê°„ ì˜ê²¬ ë  ========== */
        .live-voice-bar {
            position: fixed;
            bottom: 20px;
            left: 0;
            right: 0;
            z-index: 99;
            padding: 0 20px;
            pointer-events: none;
        }

        .live-voice-inner {
            max-width: 400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 14px 18px;
            box-shadow: 0 4px 25px rgba(0,0,0,0.12);
            display: flex;
            align-items: center;
            gap: 12px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }

        .live-voice-bar.show .live-voice-inner {
            opacity: 1;
            transform: translateY(0);
        }

        .live-voice-label {
            background: var(--brown);
            color: white;
            font-size: 0.7rem;
            font-weight: 600;
            padding: 5px 10px;
            border-radius: 12px;
            white-space: nowrap;
        }

        .live-voice-content { flex: 1; min-width: 0; }
        .live-voice-text { font-size: 0.95rem; color: var(--black); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .live-voice-meta { font-size: 0.75rem; color: var(--gray-light); margin-top: 2px; }

        /* ========== ì¹´ë“œ ========== */
        .card {
            min-height: 100vh;
            min-height: 100dvh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 80px 24px 100px;
            position: relative;
            overflow: hidden;
            scroll-snap-align: start;
            scroll-snap-stop: always;
        }

        .card:first-of-type { padding-top: 100px; }

        .card-dark { background: linear-gradient(160deg, #2c1810 0%, #4a2c1a 100%); color: white; }
        .card-warm { background: var(--warm); }
        .card-cream { background: var(--cream); }
        .card-brown { background: linear-gradient(160deg, var(--brown) 0%, var(--brown-dark) 100%); color: white; }
        .card-nature { background: linear-gradient(180deg, var(--brown-light) 0%, var(--cream) 100%); }

        .card-warm::before {
            content: '"';
            position: absolute;
            font-family: 'Nanum Myeongjo', serif;
            font-size: 20rem;
            color: var(--brown);
            opacity: 0.04;
            top: 5%;
            left: 50%;
            transform: translateX(-50%);
            pointer-events: none;
        }

        /* ========== íƒ€ì´í¬ê·¸ë˜í”¼ ========== */
        .card-eyebrow {
            font-size: 0.8rem;
            letter-spacing: 0.1em;
            color: var(--accent);
            margin-bottom: 20px;
            font-weight: 500;
        }

        .card-warm .card-eyebrow,
        .card-cream .card-eyebrow,
        .card-nature .card-eyebrow { color: var(--brown); }

        .card-title {
            font-family: 'Nanum Myeongjo', serif;
            font-size: clamp(1.8rem, 7vw, 2.6rem);
            font-weight: 700;
            line-height: 1.55;
            margin-bottom: 24px;
            word-break: keep-all;
            max-width: 90vw;
        }

        .card-title em {
            font-style: normal;
            color: var(--accent);
        }

        .card-warm .card-title em,
        .card-cream .card-title em,
        .card-nature .card-title em { color: var(--brown); }

        .card-desc {
            font-size: 1.1rem;
            line-height: 1.9;
            color: rgba(255,255,255,0.75);
            max-width: 85vw;
        }

        .card-warm .card-desc,
        .card-cream .card-desc,
        .card-nature .card-desc { color: var(--gray); }

        /* ========== ì• ë‹ˆë©”ì´ì…˜ ========== */
        .highlight-text {
            display: inline-block;
            position: relative;
        }

        .highlight-text::after {
            content: '';
            position: absolute;
            bottom: 2px;
            left: -4px;
            right: -4px;
            height: 12px;
            background: var(--accent);
            opacity: 0;
            z-index: -1;
            transform: scaleX(0);
            transform-origin: left;
        }

        .card.in-view .highlight-text::after {
            animation: highlightDraw 0.8s 0.5s forwards;
        }

        @keyframes highlightDraw {
            to { opacity: 0.35; transform: scaleX(1); }
        }

        .fade-up {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card.in-view .fade-up { opacity: 1; transform: translateY(0); }
        .card.in-view .fade-up:nth-child(1) { transition-delay: 0.1s; }
        .card.in-view .fade-up:nth-child(2) { transition-delay: 0.25s; }
        .card.in-view .fade-up:nth-child(3) { transition-delay: 0.4s; }
        .card.in-view .fade-up:nth-child(4) { transition-delay: 0.55s; }

        .gentle-float { animation: gentleFloat 3s ease-in-out infinite; }
        @keyframes gentleFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }

        .sparkle { position: relative; }
        .sparkle::before, .sparkle::after {
            content: 'âœ¨';
            position: absolute;
            font-size: 0.9rem;
            opacity: 0;
        }
        .sparkle::before { top: -8px; right: -18px; }
        .sparkle::after { bottom: -5px; left: -18px; font-size: 0.7rem; }
        .card.in-view .sparkle::before { animation: sparkleShow 1s 1s forwards; }
        .card.in-view .sparkle::after { animation: sparkleShow 1s 1.3s forwards; }
        @keyframes sparkleShow {
            0% { opacity: 0; transform: scale(0); }
            50% { opacity: 1; transform: scale(1.3); }
            100% { opacity: 1; transform: scale(1); }
        }

        /* ========== ì¸íŠ¸ë¡œ ì¹´ë“œ ========== */
        .intro-badge {
            display: inline-block;
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            padding: 8px 18px;
            border-radius: 25px;
            font-size: 0.8rem;
            color: white;
            margin-bottom: 28px;
        }

        .intro-main {
            font-family: 'Nanum Myeongjo', serif;
            font-size: clamp(2rem, 8vw, 3rem);
            font-weight: 700;
            line-height: 1.5;
            margin-bottom: 24px;
            text-shadow: 0 2px 20px rgba(0,0,0,0.3);
        }

        .intro-main em {
            color: var(--accent);
            font-style: normal;
        }

        .intro-sub {
            font-size: 1.1rem;
            color: rgba(255,255,255,0.85);
            line-height: 1.85;
        }

        .intro-scroll-hint {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            color: rgba(255,255,255,0.6);
            font-size: 0.75rem;
            animation: scrollHint 2s ease-in-out infinite;
        }

        .intro-scroll-hint svg { width: 20px; height: 20px; fill: rgba(255,255,255,0.6); }

        @keyframes scrollHint {
            0%, 100% { transform: translateX(-50%) translateY(0); opacity: 0.6; }
            50% { transform: translateX(-50%) translateY(8px); opacity: 1; }
        }

        /* ========== ìƒí’ˆ ì´ë¯¸ì§€ ========== */
        .product-image {
            width: 85vw;
            max-width: 320px;
            aspect-ratio: 1;
            margin-bottom: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            border-radius: 30px;
            box-shadow: 0 25px 60px rgba(139, 90, 43, 0.15);
            opacity: 0;
            transform: scale(0.85) translateY(20px);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .card.in-view .product-image { opacity: 1; transform: scale(1) translateY(0); }
        .product-image img { width: 100%; height: 100%; object-fit: cover; }

        /* ê°¤ëŸ¬ë¦¬ */
        .gallery-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .gallery-slide.active { opacity: 1; }
        .gallery-slide img { width: 100%; height: 100%; object-fit: cover; }

        .gallery-dots {
            position: absolute;
            bottom: 16px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 10;
        }

        .gallery-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255,255,255,0.4);
            cursor: pointer;
            transition: all 0.3s;
        }

        .gallery-dot.active {
            background: white;
            transform: scale(1.3);
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }

        /* ê¹€ íš¨ê³¼ */
        .steam-container {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 80px;
            z-index: 5;
            pointer-events: none;
        }

        .steam {
            position: absolute;
            width: 10px;
            height: 10px;
            background: rgba(255,255,255,0.7);
            border-radius: 50%;
            filter: blur(5px);
            animation: steam 2.5s ease-out infinite;
        }

        .steam:nth-child(1) { left: 15%; animation-delay: 0s; }
        .steam:nth-child(2) { left: 35%; animation-delay: 0.5s; }
        .steam:nth-child(3) { left: 55%; animation-delay: 1s; }
        .steam:nth-child(4) { left: 75%; animation-delay: 1.5s; }

        @keyframes steam {
            0% { opacity: 0; transform: translateY(0) scale(1); }
            50% { opacity: 0.9; }
            100% { opacity: 0; transform: translateY(-50px) scale(2.5); }
        }

        .product-name {
            font-family: 'Nanum Myeongjo', serif;
            font-size: 1.6rem;
            font-weight: 700;
            color: var(--black);
            margin-bottom: 8px;
        }

        .product-desc {
            font-size: 1rem;
            color: var(--gray);
            line-height: 1.7;
            margin-bottom: 20px;
        }

        /* ê°€ê²© */
        .price-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            margin-bottom: 24px;
        }

        .price-original {
            font-size: 1rem;
            color: var(--gray-light);
            text-decoration: line-through;
        }

        .price-current {
            font-size: 2.2rem;
            font-weight: 900;
            color: var(--brown);
            font-family: 'Nanum Myeongjo', serif;
        }

        .price-discount {
            display: inline-block;
            background: var(--red);
            color: white;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 700;
        }

        /* ========== íŠ¹ì§• ë°°ì§€ ========== */
        .feature-badges {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 24px;
            flex-wrap: wrap;
            max-width: 360px;
        }

        .feature-badge {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            padding: 14px 16px;
            background: white;
            border-radius: 20px;
            min-width: 90px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.06);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card.in-view .feature-badge { opacity: 1; transform: translateY(0); }
        .card.in-view .feature-badge:nth-child(1) { transition-delay: 0.3s; }
        .card.in-view .feature-badge:nth-child(2) { transition-delay: 0.45s; }
        .card.in-view .feature-badge:nth-child(3) { transition-delay: 0.6s; }

        .feature-icon {
            width: 42px;
            height: 42px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .feature-icon.brown { background: var(--brown); color: white; }
        .feature-icon.accent { background: var(--accent); color: white; }
        .feature-icon.cream { background: var(--brown-light); color: var(--brown); }

        .feature-text { font-size: 0.8rem; font-weight: 600; color: var(--black); }
        .feature-sub { font-size: 0.7rem; color: var(--gray); margin-top: -2px; }

        /* ========== ì œí’ˆ ë§í¬ ========== */
        .product-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: white;
            background: var(--brown);
            font-size: 1rem;
            font-weight: 600;
            text-decoration: none;
            padding: 16px 34px;
            border-radius: 30px;
            box-shadow: 0 10px 30px rgba(139, 90, 43, 0.3);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1) 0.5s;
        }

        .card.in-view .product-link { opacity: 1; transform: translateY(0); }
        .product-link:active { transform: scale(0.97); }
        .product-link svg { width: 18px; height: 18px; fill: currentColor; }

        /* ========== í˜œíƒ ë¦¬ìŠ¤íŠ¸ ========== */
        .benefit-list {
            width: 100%;
            max-width: 340px;
        }

        .benefit-item {
            display: flex;
            align-items: flex-start;
            gap: 14px;
            padding: 16px;
            background: white;
            border-radius: 18px;
            margin-bottom: 10px;
            text-align: left;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            opacity: 0;
            transform: translateX(30px);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card.in-view .benefit-item { opacity: 1; transform: translateX(0); }
        .card.in-view .benefit-item:nth-child(1) { transition-delay: 0.2s; }
        .card.in-view .benefit-item:nth-child(2) { transition-delay: 0.35s; }
        .card.in-view .benefit-item:nth-child(3) { transition-delay: 0.5s; }
        .card.in-view .benefit-item:nth-child(4) { transition-delay: 0.65s; }

        .benefit-icon {
            width: 46px;
            height: 46px;
            background: linear-gradient(135deg, var(--brown-light) 0%, var(--brown-pale) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            flex-shrink: 0;
        }

        .benefit-title { font-size: 0.95rem; font-weight: 600; color: var(--black); margin-bottom: 4px; }
        .benefit-desc { font-size: 0.8rem; color: var(--gray); line-height: 1.5; }

        /* ========== ì†”ì§í•œ ë°•ìŠ¤ ========== */
        .honest-box {
            background: white;
            border-radius: 20px;
            padding: 20px;
            margin-top: 24px;
            border-left: 4px solid var(--brown);
            box-shadow: 0 6px 20px rgba(0,0,0,0.05);
            text-align: left;
            max-width: 320px;
            opacity: 0;
            transform: translateX(-20px);
            transition: all 0.6s ease 0.3s;
        }

        .card.in-view .honest-box { opacity: 1; transform: translateX(0); }

        .honest-box .label {
            font-weight: 700;
            color: var(--brown);
            margin-bottom: 10px;
            font-size: 0.9rem;
        }

        .honest-box .content {
            font-size: 0.9rem;
            line-height: 1.8;
            color: var(--gray);
        }

        /* ========== íƒ•íƒ•íƒ• ì‹œë¦¬ì¦ˆ ========== */
        .tang-series {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 14px;
            margin: 24px 0;
            width: 100%;
            max-width: 320px;
        }

        .tang-item {
            display: block;
            background: rgba(255,255,255,0.1);
            border-radius: 18px;
            padding: 14px;
            text-align: center;
            text-decoration: none;
            color: white;
            transition: transform 0.2s, background 0.2s;
            opacity: 0;
            transform: scale(0.9);
        }

        .card.in-view .tang-item { opacity: 1; transform: scale(1); }
        .card.in-view .tang-item:nth-child(1) { transition-delay: 0.2s; }
        .card.in-view .tang-item:nth-child(2) { transition-delay: 0.3s; }
        .card.in-view .tang-item:nth-child(3) { transition-delay: 0.4s; }
        .card.in-view .tang-item:nth-child(4) { transition-delay: 0.5s; }

        .tang-item:active {
            transform: scale(0.96);
            background: rgba(255,255,255,0.15);
        }

        .tang-item.current {
            background: rgba(212, 145, 93, 0.3);
            border: 2px solid var(--accent);
        }

        .tang-image {
            width: 100%;
            aspect-ratio: 1;
            border-radius: 14px;
            overflow: hidden;
            margin-bottom: 10px;
            position: relative;
            background: #f5f5f5;
        }

        .tang-image img { width: 100%; height: 100%; object-fit: cover; }

        .tang-badge {
            position: absolute;
            top: 8px;
            right: 8px;
            background: var(--red);
            color: white;
            font-size: 0.65rem;
            padding: 4px 10px;
            border-radius: 12px;
            font-weight: 700;
        }

        .tang-name {
            font-weight: 700;
            font-size: 0.95rem;
            margin-bottom: 4px;
        }

        .tang-desc {
            font-size: 0.75rem;
            opacity: 0.7;
        }

        /* ========== ì² í•™ ì¹´ë“œ ========== */
        .philosophy-line {
            display: block;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card.in-view .philosophy-line { opacity: 1; transform: translateY(0); }
        .card.in-view .philosophy-line:nth-child(1) { transition-delay: 0.1s; }
        .card.in-view .philosophy-line:nth-child(2) { transition-delay: 0.3s; }
        .card.in-view .philosophy-line:nth-child(3) { transition-delay: 0.5s; }

        .philosophy-emphasis {
            position: relative;
            display: inline-block;
            color: var(--accent);
        }

        .trust-points {
            display: flex;
            gap: 50px;
            margin-top: 30px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease 0.7s;
        }

        .card.in-view .trust-points { opacity: 1; transform: translateY(0); }

        .trust-item { text-align: center; }
        .trust-value { font-size: 2.2rem; font-weight: 900; color: var(--accent); font-family: 'Nanum Myeongjo', serif; }
        .trust-label { font-size: 0.85rem; opacity: 0.8; }

        /* ========== ì˜ê²¬ ì„¹ì…˜ ========== */
        .opinion-section { width: 100%; max-width: 380px; }

        .write-area {
            background: white;
            border-radius: 24px;
            padding: 22px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.08);
            margin-bottom: 20px;
        }

        .write-label { font-size: 0.9rem; color: var(--brown); font-weight: 600; margin-bottom: 14px; }
        .write-input {
            width: 100%;
            border: none;
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 1rem;
            line-height: 1.7;
            resize: none;
            outline: none;
            min-height: 90px;
            color: var(--black);
            background: transparent;
        }
        .write-input::placeholder { color: #bbb; }

        .write-footer {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid #f0f0f0;
        }

        .write-name {
            width: 100%;
            border: 2px solid #f0f0f0;
            border-radius: 14px;
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 1rem;
            padding: 14px 16px;
            outline: none;
            color: var(--black);
            background: var(--brown-pale);
            transition: all 0.3s ease;
        }
        .write-name:focus { border-color: var(--brown); background: white; }
        .write-name::placeholder { color: #999; }

        .write-submit {
            width: 100%;
            background: var(--brown);
            color: white;
            border: none;
            padding: 16px 24px;
            border-radius: 16px;
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 1.05rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .write-submit:active { transform: scale(0.98); }
        .write-submit:disabled { background: #ccc; }
        .write-submit svg { width: 18px; height: 18px; fill: white; }

        .opinion-list-area {
            background: rgba(255,255,255,0.8);
            border-radius: 20px;
            padding: 18px;
            max-height: 200px;
            overflow-y: auto;
        }
        .opinion-list-title { font-size: 0.85rem; color: var(--gray); margin-bottom: 12px; font-weight: 500; }
        .opinion-list-item { padding: 12px 0; border-bottom: 1px solid rgba(0,0,0,0.05); text-align: left; }
        .opinion-list-item:last-child { border-bottom: none; }
        .opinion-list-text { font-size: 0.95rem; color: var(--black); line-height: 1.6; margin-bottom: 5px; }
        .opinion-list-meta { font-size: 0.75rem; color: var(--gray-light); }
        .opinion-list-empty { text-align: center; color: var(--gray-light); font-size: 0.9rem; padding: 25px 15px; }

        .toast {
            position: fixed;
            bottom: 90px;
            left: 50%;
            transform: translateX(-50%) translateY(20px);
            background: var(--brown);
            color: white;
            padding: 14px 28px;
            border-radius: 30px;
            font-size: 1rem;
            font-weight: 500;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 2000;
            box-shadow: 0 10px 30px rgba(139, 90, 43, 0.35);
        }
        .toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }

        /* ========== CTA ë²„íŠ¼ ========== */
        .cta-button {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: var(--brown);
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            padding: 18px 40px;
            border-radius: 50px;
            text-decoration: none;
            margin-top: 28px;
            box-shadow: 0 12px 35px rgba(139, 90, 43, 0.35);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1) 0.5s;
        }
        .card.in-view .cta-button { opacity: 1; transform: translateY(0); }
        .cta-button:active { transform: scale(0.97); }
        .cta-button svg { width: 20px; height: 20px; fill: white; }

        /* ========== ìŠ¤í¬ë¡¤ ì¸ë””ì¼€ì´í„° ========== */
        .scroll-indicator {
            position: fixed;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .scroll-dot {
            width: 5px;
            height: 5px;
            border-radius: 50%;
            background: rgba(0,0,0,0.15);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .scroll-dot.active { height: 18px; border-radius: 3px; background: var(--brown); }

        /* ========== ë°˜ì‘í˜• ========== */
        @media (max-height: 700px) {
            .product-image { max-width: 240px; }
            .card-title { font-size: clamp(1.5rem, 6vw, 2rem); }
            .intro-main { font-size: clamp(1.7rem, 7vw, 2.3rem); }
        }

        html::-webkit-scrollbar { width: 0; display: none; }
    </style>
</head>
<body>

    <!-- ë§¤ê±°ì§„ í—¤ë” -->
    <header class="magazine-header">
        <div class="magazine-brand">
            <div class="brand-logo">
                <div class="logo-circle">ë‘ë ˆ</div>
                <span class="logo-text">ë‘ë ˆìƒí˜‘</span>
            </div>
            <div class="brand-divider"></div>
            <span class="magazine-title">ìƒí™œì˜ ë°œê²¬</span>
            <span class="magazine-issue">26ë…„ 3ì£¼ (1.12~16)</span>
        </div>
        <div class="live-visitors">
            <div class="live-dot"></div>
            <span class="live-count"><strong id="visitorCount">1</strong>ëª…</span>
        </div>
    </header>

    <div class="scroll-indicator" id="scrollIndicator"></div>

    <!-- 0. ì¸íŠ¸ë¡œ -->
    <section class="card card-dark" data-index="0">
        <div class="intro-badge fade-up">ğŸ² ë‘ë ˆì¶•ì‚° ì‹ ê·œ ìƒí™œì¬</div>
        
        <div class="product-image gentle-float">
            <div class="steam-container">
                <div class="steam"></div>
                <div class="steam"></div>
                <div class="steam"></div>
                <div class="steam"></div>
            </div>
            <img src="https://durewon-del.github.io/test/pojang1.png" alt="í•œìš° ì„¤ë íƒ•">
        </div>
        
        <h1 class="intro-main fade-up">
            <em class="highlight-text sparkle">ë¬´í•­ìƒì œ í•œìš°</em>ë¡œ<br>
            ì •ì„±ê» ë§Œë“¤ì—ˆì–´ìš”
        </h1>
        <p class="intro-sub fade-up">
            ì²˜ìŒ ì„ ë³´ì´ëŠ” ìƒí™œì¬ì…ë‹ˆë‹¤<br>
            í•œë²ˆ ë“œì…”ë³´ì‹œê³  íŒë‹¨í•´ ì£¼ì„¸ìš”
        </p>
        
        <div class="intro-scroll-hint">
            <span>ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤</span>
            <svg viewBox="0 0 24 24"><path d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"/></svg>
        </div>
    </section>

    <!-- 1. ìƒí˜‘ì˜ ê³ ë¯¼ -->
    <section class="card card-warm" data-index="1">
        <p class="card-eyebrow fade-up">ì†”ì§í•œ ì´ì•¼ê¸°</p>
        <h2 class="card-title fade-up">
            ì¢‹ì€ ì¬ë£Œë¡œ ë§Œë“¤ë©´<br>
            <em class="highlight-text">ê°€ê²©ì´ ì˜¬ë¼ê°€ìš”</em>
        </h2>
        <p class="card-desc fade-up">
            ë¬´í•­ìƒì œ í•œìš°ëŠ” ì¼ë°˜ ì†Œë³´ë‹¤ ë¹„ì‹¸ìš”<br>
            ê·¸ë˜ë„ ì¡°í•©ì›ë‹˜ê»˜ ë“œë¦´ ê±°ë‹ˆê¹Œ<br><br>
            <strong style="color: var(--brown);">ì‹ ê·œì¶œì‹œì—ë§Œ ë“œë¦¬ëŠ” íŠ¹ë³„í•œ ê°€ê²©ì´ì—ìš”</strong>
        </p>
    </section>

    <!-- 2. ì§ˆ ì¢‹ì€ ê³ ê¸° -->
    <section class="card card-cream" data-index="2">
        <p class="card-eyebrow fade-up">ë‘ë ˆì¶•ì‚° ì„¤ë íƒ•</p>
        <h2 class="card-title fade-up">
            <em class="highlight-text">ì§ˆ ì¢‹ì€ ê³ ê¸°</em>ë¥¼<br>
            ìµœëŒ€í•œ ë„£ì—ˆì–´ìš”
        </h2>
        <div class="benefit-list fade-up">
            <div class="benefit-item">
                <div class="benefit-icon">ğŸ’Š</div>
                <div>
                    <div class="benefit-title">ë¬´í•­ìƒì œ ì¸ì¦ í•œìš°</div>
                    <div class="benefit-desc">í•­ìƒì œÂ·ì„±ì¥ì´‰ì§„ì œ ì—†ì´ ê±´ê°•í•˜ê²Œ í‚¤ìš´ ì†Œì˜ˆìš”</div>
                </div>
            </div>
            <div class="benefit-item">
                <div class="benefit-icon">ğŸ¥©</div>
                <div>
                    <div class="benefit-title">ì‚¬íƒœ + ìŠ¤ì§€</div>
                    <div class="benefit-desc">ë‹´ë°±í•œ ì‚¬íƒœ, ì«„ê¹ƒí•œ ìŠ¤ì§€ë¡œ êµ¬ì„±í–ˆì–´ìš”</div>
                </div>
            </div>
            <div class="benefit-item">
                <div class="benefit-icon">ğŸ­</div>
                <div>
                    <div class="benefit-title">ë‘ë ˆìƒí˜‘ ëŒ€í‘œ í•œìš°ìƒì‚°ì§€</div>
                    <div class="benefit-desc">ì–´ë””ì„œ ì˜¨ ì†Œì¸ì§€ ë‹¤ ì¶”ì í•  ìˆ˜ ìˆì–´ìš”</div>
                </div>
            </div>
            <div class="benefit-item">
                <div class="benefit-icon">ğŸ’°</div>
                <div>
                    <div class="benefit-title">ì‹ ê·œì¶œì‹œ íŠ¹ë³„ê°€</div>
                    <div class="benefit-desc">ì²˜ìŒ ì„ ë³´ì´ëŠ” ê°€ê²©ìœ¼ë¡œ ë“œë ¤ìš”</div>
                </div>
            </div>
        </div>
    </section>

    <!-- 3. ìƒí’ˆ ì†Œê°œ -->
    <section class="card card-nature" data-index="3">
        <div class="product-image gentle-float" id="productGallery">
            <div class="gallery-slide active">
                <img src="https://durewon-del.github.io/test/pojang1.png" alt="í•œìš° ì„¤ë íƒ•">
            </div>
            <div class="gallery-slide">
                <img src="https://durewon-del.github.io/test/ë³´ì •1.jpg" alt="í•œìš° ì„¤ë íƒ•">
            </div>
            <div class="gallery-slide">
                <img src="https://durewon-del.github.io/test/ë³´ì •2.jpg" alt="í•œìš° ì„¤ë íƒ•">
            </div>
            <div class="gallery-slide">
                <img src="https://durewon-del.github.io/test/ë³´ì •3.jpg" alt="í•œìš° ì„¤ë íƒ•">
            </div>
            <div class="gallery-dots">
                <span class="gallery-dot active" onclick="goToSlide(0)"></span>
                <span class="gallery-dot" onclick="goToSlide(1)"></span>
                <span class="gallery-dot" onclick="goToSlide(2)"></span>
                <span class="gallery-dot" onclick="goToSlide(3)"></span>
            </div>
            <div class="steam-container">
                <div class="steam"></div>
                <div class="steam"></div>
                <div class="steam"></div>
                <div class="steam"></div>
            </div>
        </div>
        
        <h3 class="product-name fade-up">í•œìš° ì„¤ë íƒ•</h3>
        <p class="product-desc fade-up">ë‘ë ˆìƒí˜‘ ëŒ€í‘œ í•œìš°ìƒì‚°ì§€ Â· 600g Â· 2ì¸ë¶„</p>
        
        <div class="price-area fade-up">
            <span class="price-original">11,700ì›</span>
            <span class="price-current">10,500ì›</span>
            <span class="price-discount">1,200ì› í• ì¸</span>
        </div>
        
        <div class="feature-badges">
            <div class="feature-badge">
                <div class="feature-icon brown">ğŸ’Š</div>
                <span class="feature-text">ë¬´í•­ìƒì œ</span>
                <span class="feature-sub">ì¸ì¦ í•œìš°</span>
            </div>
            <div class="feature-badge">
                <div class="feature-icon accent">ğŸ¥©</div>
                <span class="feature-text">ì‚¬íƒœ+ìŠ¤ì§€</span>
                <span class="feature-sub">ì§ˆ ì¢‹ì€ ê³ ê¸°</span>
            </div>
            <div class="feature-badge">
                <div class="feature-icon cream">ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦</div>
                <span class="feature-text">2ì¸ë¶„</span>
                <span class="feature-sub">600g</span>
            </div>
        </div>
        
        <a href="https://ecoop.or.kr/DureShop/plan/planView.do?returnTypeGb=plan&returnNo=1630" class="product-link">
            ì§€ê¸ˆ ì£¼ë¬¸í•˜ê¸°
            <svg viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"/></svg>
        </a>
    </section>

    <!-- 4. ì†”ì§í•œ ì´ì•¼ê¸° -->
    <section class="card card-warm" data-index="4">
        <p class="card-eyebrow fade-up">ğŸ’¬ ì†”ì§íˆ ë§ì”€ë“œë ¤ìš”</p>
        <h2 class="card-title fade-up">
            ê³ ê¸°ê°€ ê°ë™í•  ë§Œí¼<br>
            <em class="highlight-text">ë§ì§„ ì•Šì•„ìš”</em>
        </h2>
        <p class="card-desc fade-up">
            í•˜ì§€ë§Œ <strong>ë¬´í•­ìƒì œ í•œìš°</strong>ë¥¼<br>
            ì •ì§í•˜ê²Œ ë„£ì—ˆìŠµë‹ˆë‹¤
        </p>
        
        <div class="honest-box">
            <p class="label">ğŸ¥© êµ¬ì„±</p>
            <p class="content">
                â€¢ í•œìš° ì‚¬íƒœ - ë‹´ë°±í•œ ì‚´ì½”ê¸°<br>
                â€¢ í•œìš° ìŠ¤ì§€ - ì«„ê¹ƒí•œ ì‹ê°<br>
                â€¢ ì‚¬ê³¨ êµ­ë¬¼ - ì§„í•œ ê¹Šì€ ë§›
            </p>
        </div>
    </section>

    <!-- 5. ë¬´í•­ìƒì œ -->
    <section class="card card-cream" data-index="5">
        <p class="card-eyebrow fade-up">ë‘ë ˆì¶•ì‚°ì˜ ê¸°ì¤€</p>
        <h2 class="card-title fade-up"><em class="highlight-text">ë‚´ ê°€ì¡±</em>ì´ ë¨¹ì„ ê±°ë‹ˆê¹Œ</h2>
        
        <div class="benefit-list fade-up">
            <div class="benefit-item">
                <div class="benefit-icon">ğŸ…</div>
                <div>
                    <div class="benefit-title">ë¬´í•­ìƒì œ ì¸ì¦</div>
                    <div class="benefit-desc">í•­ìƒì œÂ·ì„±ì¥ì´‰ì§„ì œ ì—†ì´ í‚¤ì› ì–´ìš”</div>
                </div>
            </div>
            <div class="benefit-item">
                <div class="benefit-icon">ğŸ‡°ğŸ‡·</div>
                <div>
                    <div class="benefit-title">êµ­ë‚´ì‚° í•œìš° 100%</div>
                    <div class="benefit-desc">ìˆ˜ì…ì‚° ì„ì§€ ì•Šì•„ìš”</div>
                </div>
            </div>
            <div class="benefit-item">
                <div class="benefit-icon">ğŸ’°</div>
                <div>
                    <div class="benefit-title">ì‹ ê·œì¶œì‹œ íŠ¹ë³„ê°€</div>
                    <div class="benefit-desc">ì²˜ìŒì´ë‹ˆê¹Œ íŠ¹ë³„í•œ ê°€ê²©ìœ¼ë¡œ ë“œë ¤ìš”</div>
                </div>
            </div>
        </div>
    </section>

    <!-- 6. íƒ•íƒ•íƒ• ì‹œë¦¬ì¦ˆ -->
    <section class="card card-dark" data-index="6">
        <p class="card-eyebrow fade-up" style="color: var(--accent);">ğŸ”¥ ê²¨ìš¸ì—” ì—­ì‹œ</p>
        <h2 class="card-title fade-up" style="color: white;">
            ëœ¨ëˆí•œ <em>íƒ•</em> í•œ ê·¸ë¦‡
        </h2>
        
        <div class="tang-series">
            <a href="https://ecoop.or.kr/DureShop/plan/planView.do?returnTypeGb=plan&returnNo=1630" class="tang-item">
                <div class="tang-image">
                    <img src="https://durewon-del.github.io/test/54255B.jpg" alt="í‘ì—¼ì†Œíƒ•">
                </div>
                <div class="tang-name">í‘ì—¼ì†Œíƒ•</div>
                <div class="tang-desc">ì›ê¸°íšŒë³µ ë³´ì–‘ì‹</div>
            </a>
            
            <a href="https://ecoop.or.kr/DureShop/plan/planView.do?returnTypeGb=plan&returnNo=1630" class="tang-item current">
                <div class="tang-image">
                    <img src="https://durewon-del.github.io/test/pojang1.png" alt="í•œìš° ì„¤ë íƒ•">
                    <div class="tang-badge">íŠ¹ê°€!</div>
                </div>
                <div class="tang-name">í•œìš° ì„¤ë íƒ•</div>
                <div class="tang-desc">10,500ì›</div>
            </a>
            
            <a href="https://ecoop.or.kr/DureShop/plan/planView.do?returnTypeGb=plan&returnNo=1630" class="tang-item">
                <div class="tang-image">
                    <img src="https://durewon-del.github.io/test/54638A.jpg" alt="í•œìš° ë³´ì–‘íƒ•">
                </div>
                <div class="tang-name">í•œìš° ë³´ì–‘íƒ•</div>
                <div class="tang-desc">ì§„í•œ ê³ ê¸° êµ­ë¬¼</div>
            </a>
            
            <a href="https://ecoop.or.kr/DureShop/plan/planView.do?returnTypeGb=plan&returnNo=1630" class="tang-item">
                <div class="tang-image">
                    <img src="https://durewon-del.github.io/test/58167B.png" alt="ë¼ì§€êµ­ë°¥">
                </div>
                <div class="tang-name">ë¼ì§€êµ­ë°¥</div>
                <div class="tang-desc">ë“ ë“ í•œ í•œ ë¼</div>
            </a>
        </div>
        
        <p class="fade-up" style="font-size: 0.85rem; opacity: 0.5;">ğŸ‘† í„°ì¹˜í•´ì„œ êµ¬ê²½í•˜ê¸°</p>
    </section>

    <!-- 7. ìƒí˜‘ì˜ ë§ˆìŒ -->
    <section class="card card-brown" data-index="7">
        <h2 class="card-title">
            <span class="philosophy-line">ì²˜ìŒ ì„ ë³´ì´ëŠ”</span>
            <span class="philosophy-line"><span class="philosophy-emphasis sparkle">ì‹ ê·œ ìƒí™œì¬</span>ì…ë‹ˆë‹¤</span>
            <span class="philosophy-line" style="margin-top: 16px; font-size: 0.8em; opacity: 0.9;">í•œë²ˆ ë“œì…”ë³´ì‹œê³ <br>ê´œì°®ìœ¼ì‹œë©´ ì´ìš©í•´ ì£¼ì„¸ìš”</span>
        </h2>
        
        <div class="trust-points">
            <div class="trust-item">
                <div class="trust-value">29ë…„</div>
                <div class="trust-label">ë‘ë ˆìƒí˜‘</div>
            </div>
            <div class="trust-item">
                <div class="trust-value">24ë§Œ</div>
                <div class="trust-label">ì¡°í•©ì› ê°€êµ¬</div>
            </div>
        </div>
    </section>

    <!-- 8. ì˜ê²¬ -->
    <section class="card card-cream" data-index="8">
        <p class="card-eyebrow fade-up">ğŸ’¬ ì—¬ëŸ¬ë¶„ì˜ ì´ì•¼ê¸°</p>
        <h2 class="card-title fade-up">
            <em class="highlight-text">ìš°ë¦¬ í•œìš°</em>ë¥¼ ì§€í‚¤ëŠ”<br>
            ë‘ë ˆì¶•ì‚°ì— í•œë§ˆë””
        </h2>
        
        <div class="opinion-section fade-up">
            <div class="write-area">
                <div class="write-label">âœï¸ ì‘ì›, ì œì•ˆ, ê¶ê¸ˆí•œ ì  ë­ë“  ì¢‹ì•„ìš”!</div>
                <textarea class="write-input" id="opinionText" placeholder="ë‘ë ˆì¶•ì‚°ì— í•˜ê³  ì‹¶ì€ ì´ì•¼ê¸°ë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”"></textarea>
                <div class="write-footer">
                    <input type="text" class="write-name" id="opinionName" placeholder="âœï¸ ì´ë¦„ ì…ë ¥ (ì„ íƒì‚¬í•­)">
                    <button class="write-submit" id="submitBtn" onclick="submitOpinion()">
                        ì´ì•¼ê¸° ë“±ë¡í•˜ê¸°
                        <svg viewBox="0 0 24 24"><path d="M2,21L23,12L2,3V10L17,12L2,14V21Z"/></svg>
                    </button>
                </div>
            </div>
            
            <div class="opinion-list-area">
                <div class="opinion-list-title">ğŸ’¬ ì¡°í•©ì›ë‹˜ë“¤ì˜ í•œë§ˆë””</div>
                <div id="opinionList">
                    <div class="opinion-list-empty">ì²« ë²ˆì§¸ ì‘ì›ì„ ë‚¨ê²¨ì£¼ì„¸ìš”!</div>
                </div>
            </div>
        </div>
    </section>

    <!-- 9. ë§ˆë¬´ë¦¬ -->
    <section class="card card-warm" data-index="9">
        <p class="card-eyebrow fade-up">ì‹ ê·œ ìƒí™œì¬</p>
        <h2 class="card-title fade-up">
            <em class="highlight-text sparkle">í•œë²ˆ ë“œì…”ë³´ì„¸ìš”</em>
        </h2>
        <p class="card-desc fade-up">
            âœ“ ë¬´í•­ìƒì œ ì¸ì¦ í•œìš°<br>
            âœ“ ì§ˆ ì¢‹ì€ ì‚¬íƒœ+ìŠ¤ì§€<br>
            âœ“ ì‹ ê·œì¶œì‹œ íŠ¹ë³„ê°€
        </p>
        <a href="https://ecoop.or.kr/DureShop/plan/planView.do?returnTypeGb=plan&returnNo=1630" class="cta-button">
            <span>í•œìš° ì„¤ë íƒ• ë³´ëŸ¬ê°€ê¸°</span>
            <svg viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"/></svg>
        </a>
    </section>

    <!-- ì‹¤ì‹œê°„ ì˜ê²¬ ë  -->
    <div class="live-voice-bar" id="liveVoiceBar">
        <div class="live-voice-inner">
            <div class="live-voice-label">ì‹¤ì‹œê°„</div>
            <div class="live-voice-content">
                <p class="live-voice-text" id="liveVoiceText">ì¡°í•©ì›ë‹˜ë“¤ì˜ ì´ì•¼ê¸°</p>
                <p class="live-voice-meta" id="liveVoiceMeta"></p>
            </div>
        </div>
    </div>

    <div class="toast" id="toast">ì†Œì¤‘í•œ ì´ì•¼ê¸° ê°ì‚¬í•©ë‹ˆë‹¤ ğŸ²</div>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc, query, orderBy, limit, onSnapshot, serverTimestamp, where } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
        import { getDatabase, ref, set, onValue, onDisconnect, serverTimestamp as rtdbTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDrb6CvMBn9jSfDeuwWseJywFHLbChNr4U",
            authDomain: "durunioncoop.firebaseapp.com",
            projectId: "durunioncoop",
            storageBucket: "durunioncoop.firebasestorage.app",
            messagingSenderId: "439719435906",
            appId: "1:439719435906:web:3d1d841ad6e80939eb5e9b",
            measurementId: "G-NSEYF1TDCH",
            databaseURL: "https://durunioncoop-default-rtdb.asia-southeast1.firebasedatabase.app"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const rtdb = getDatabase(app);

        // ì‹¤ì‹œê°„ ë°©ë¬¸ì (week3 ì „ìš©)
        const visitorId = 'visitor_' + Math.random().toString(36).substr(2, 9);
        const visitorRef = ref(rtdb, `visitors_week3/${visitorId}`);
        const visitorsRef = ref(rtdb, 'visitors_week3');

        set(visitorRef, { timestamp: rtdbTimestamp(), lastActive: Date.now() });
        onDisconnect(visitorRef).remove();

        onValue(visitorsRef, (snapshot) => {
            const visitors = snapshot.val();
            const count = visitors ? Object.keys(visitors).length : 1;
            document.getElementById('visitorCount').textContent = count;
        });

        setInterval(() => {
            set(visitorRef, { timestamp: rtdbTimestamp(), lastActive: Date.now() });
        }, 30000);

        // ì˜ê²¬ (week3 ì „ìš© ì»¬ë ‰ì…˜)
        let opinions = [];
        let shownOpinionIds = new Set();

        window.submitOpinion = async function() {
            const textEl = document.getElementById('opinionText');
            const nameEl = document.getElementById('opinionName');
            const submitBtn = document.getElementById('submitBtn');
            const text = textEl.value.trim();
            const name = nameEl.value.trim() || 'ìµëª…ì˜ ì¡°í•©ì›';
            if (!text) { showToast('ì´ì•¼ê¸°ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”'); return; }
            submitBtn.disabled = true;
            try {
                await addDoc(collection(db, "opinions"), { text, name, week: 3, createdAt: serverTimestamp() });
                textEl.value = ''; nameEl.value = '';
                showToast('ì†Œì¤‘í•œ ì´ì•¼ê¸° ê°ì‚¬í•©ë‹ˆë‹¤ ğŸ²');
            } catch (error) { 
                console.error('Firebase error:', error);
                showToast('ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”'); 
            }
            finally { submitBtn.disabled = false; }
        };

        const q = query(collection(db, "opinions"), where("week", "==", 3), orderBy("createdAt", "desc"), limit(30));
        onSnapshot(q, (snapshot) => {
            opinions = [];
            snapshot.forEach((doc) => {
                const data = doc.data();
                opinions.push({ id: doc.id, text: data.text, name: data.name, date: data.createdAt ? formatDate(data.createdAt.toDate()) : 'ë°©ê¸ˆ' });
            });
            updateOpinionList();
            if (opinions.length > 0) showNextOpinion();
        });

        function updateOpinionList() {
            const listEl = document.getElementById('opinionList');
            if (opinions.length === 0) { listEl.innerHTML = '<div class="opinion-list-empty">ì²« ë²ˆì§¸ ì‘ì›ì„ ë‚¨ê²¨ì£¼ì„¸ìš”!</div>'; return; }
            listEl.innerHTML = '';
            opinions.slice(0, 10).forEach((op) => {
                const item = document.createElement('div');
                item.className = 'opinion-list-item';
                item.innerHTML = `<p class="opinion-list-text">${escapeHtml(op.text)}</p><p class="opinion-list-meta">${escapeHtml(op.name)} Â· ${op.date}</p>`;
                listEl.appendChild(item);
            });
        }

        function showNextOpinion() {
            if (opinions.length === 0) return;
            const unshown = opinions.filter(op => !shownOpinionIds.has(op.id));
            if (unshown.length === 0) { document.getElementById('liveVoiceBar').classList.remove('show'); return; }
            const bar = document.getElementById('liveVoiceBar');
            bar.classList.remove('show');
            setTimeout(() => {
                const op = unshown[0];
                shownOpinionIds.add(op.id);
                document.getElementById('liveVoiceText').textContent = op.text.length <= 32 ? op.text : op.text.substring(0, 32) + '...';
                document.getElementById('liveVoiceMeta').textContent = `${op.name} Â· ${op.date}`;
                bar.classList.add('show');
                setTimeout(() => showNextOpinion(), 5000);
            }, 400);
        }

        function formatDate(date) {
            const diff = Date.now() - date;
            const m = Math.floor(diff / 60000), h = Math.floor(diff / 3600000), d = Math.floor(diff / 86400000);
            if (m < 1) return 'ë°©ê¸ˆ'; if (m < 60) return `${m}ë¶„ ì „`; if (h < 24) return `${h}ì‹œê°„ ì „`; if (d < 7) return `${d}ì¼ ì „`;
            return date.toLocaleDateString('ko-KR');
        }
        function escapeHtml(text) { const div = document.createElement('div'); div.textContent = text; return div.innerHTML; }
        function showToast(msg) { const t = document.getElementById('toast'); t.textContent = msg; t.classList.add('show'); setTimeout(() => t.classList.remove('show'), 2500); }
        window.showToast = showToast;
    </script>

    <script>
        // ê°¤ëŸ¬ë¦¬ ìŠ¬ë¼ì´ë“œ
        let currentSlide = 0;
        const slides = document.querySelectorAll('.gallery-slide');
        const galleryDots = document.querySelectorAll('.gallery-dot');

        window.goToSlide = function(index) {
            slides.forEach((slide, i) => slide.classList.toggle('active', i === index));
            galleryDots.forEach((dot, i) => dot.classList.toggle('active', i === index));
            currentSlide = index;
        };

        setInterval(() => {
            currentSlide = (currentSlide + 1) % slides.length;
            goToSlide(currentSlide);
        }, 3000);

        // í„°ì¹˜ ìŠ¤ì™€ì´í”„
        const gallery = document.getElementById('productGallery');
        let startX = 0;
        gallery.addEventListener('touchstart', (e) => startX = e.touches[0].clientX);
        gallery.addEventListener('touchend', (e) => {
            const diff = startX - e.changedTouches[0].clientX;
            if (Math.abs(diff) > 50) {
                goToSlide(diff > 0 ? (currentSlide + 1) % slides.length : (currentSlide - 1 + slides.length) % slides.length);
            }
        });

        // ìŠ¤í¬ë¡¤ ì¸ë””ì¼€ì´í„°
        const cards = document.querySelectorAll('.card');
        const indicatorContainer = document.getElementById('scrollIndicator');
        
        cards.forEach((_, i) => {
            const dot = document.createElement('div');
            dot.className = 'scroll-dot' + (i === 0 ? ' active' : '');
            dot.addEventListener('click', () => cards[i].scrollIntoView({ behavior: 'smooth' }));
            indicatorContainer.appendChild(dot);
        });

        const dots = document.querySelectorAll('.scroll-dot');

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                const index = parseInt(entry.target.dataset.index);
                if (entry.isIntersecting) {
                    entry.target.classList.add('in-view');
                    dots.forEach((dot, i) => dot.classList.toggle('active', i === index));
                }
            });
        }, { threshold: 0.35 });

        cards.forEach(card => observer.observe(card));
        cards[0].classList.add('in-view');
    </script>

</body>
</html>
