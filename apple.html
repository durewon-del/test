<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ì¡°í•©ì›ë‹˜ê»˜ ë“œë¦¬ëŠ” ì‚¬ê³¼ | ë‘ë ˆìƒí˜‘</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@400;700;800&family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --red: #c75050;
            --red-light: #fff5f5;
            --red-dark: #a63d3d;
            --green: #4a6741;
            --green-light: #e8f0e4;
            --cream: #fdfbf7;
            --warm: #f7f3ed;
            --black: #1a1a1a;
            --gray: #666;
            --gray-light: #999;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        html { scroll-snap-type: y mandatory; scroll-behavior: smooth; }
        body { font-family: 'Noto Sans KR', sans-serif; background: var(--cream); overflow-x: hidden; }

        /* ========== ë§¤ê±°ì§„ í—¤ë” ========== */
        .magazine-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: var(--green);
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .magazine-brand {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .brand-logo {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .logo-circle {
            width: 26px;
            height: 26px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.55rem;
            color: var(--green);
            font-weight: 800;
        }

        .logo-text {
            font-family: 'Nanum Myeongjo', serif;
            font-size: 1rem;
            font-weight: 700;
            color: white;
        }

        .brand-divider {
            width: 1px;
            height: 16px;
            background: rgba(255,255,255,0.3);
        }

        .magazine-title {
            font-family: 'Nanum Myeongjo', serif;
            font-size: 0.85rem;
            color: rgba(255,255,255,0.9);
        }

        /* ========== ì¹´ë“œ ========== */
        .card {
            min-height: 100vh;
            min-height: 100dvh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 80px 24px 60px;
            position: relative;
            overflow: hidden;
            scroll-snap-align: start;
            scroll-snap-stop: always;
        }

        .card:first-of-type { padding-top: 100px; }

        .card-apology { background: linear-gradient(180deg, #fff5f5 0%, #fdfbf7 100%); }
        .card-warm { background: var(--warm); }
        .card-cream { background: var(--cream); }
        .card-green { background: linear-gradient(160deg, var(--green) 0%, #3a5331 100%); color: white; }

        /* ========== íƒ€ì´í¬ê·¸ë˜í”¼ ========== */
        .card-eyebrow {
            font-size: 0.8rem;
            letter-spacing: 0.1em;
            color: var(--red);
            margin-bottom: 20px;
            font-weight: 500;
        }

        .card-green .card-eyebrow { color: rgba(255,255,255,0.7); }

        .card-title {
            font-family: 'Nanum Myeongjo', serif;
            font-size: clamp(1.8rem, 7vw, 2.6rem);
            font-weight: 700;
            line-height: 1.55;
            margin-bottom: 24px;
            word-break: keep-all;
            max-width: 90vw;
            color: var(--black);
        }

        .card-green .card-title { color: white; }

        .card-title em {
            font-style: normal;
            color: var(--red);
        }

        .card-green .card-title em { color: #90EE90; }

        .card-desc {
            font-size: 1.05rem;
            line-height: 1.9;
            color: var(--gray);
            max-width: 85vw;
        }

        .card-green .card-desc { color: rgba(255,255,255,0.85); }

        /* ========== ì• ë‹ˆë©”ì´ì…˜ ========== */
        .fade-up {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card.in-view .fade-up { opacity: 1; transform: translateY(0); }
        .card.in-view .fade-up:nth-child(1) { transition-delay: 0.1s; }
        .card.in-view .fade-up:nth-child(2) { transition-delay: 0.25s; }
        .card.in-view .fade-up:nth-child(3) { transition-delay: 0.4s; }
        .card.in-view .fade-up:nth-child(4) { transition-delay: 0.55s; }

        /* ========== ì¸íŠ¸ë¡œ ========== */
        .apology-icon {
            font-size: 4rem;
            margin-bottom: 24px;
            opacity: 0;
            transform: scale(0.5);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card.in-view .apology-icon {
            opacity: 1;
            transform: scale(1);
        }

        .intro-scroll-hint {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            color: var(--gray-light);
            font-size: 0.75rem;
            animation: scrollHint 2s ease-in-out infinite;
        }

        .intro-scroll-hint svg { width: 20px; height: 20px; fill: var(--gray-light); }

        @keyframes scrollHint {
            0%, 100% { transform: translateX(-50%) translateY(0); opacity: 0.6; }
            50% { transform: translateX(-50%) translateY(8px); opacity: 1; }
        }

        /* ========== ì‚¬ê³¼ ë°•ìŠ¤ ========== */
        .apology-box {
            background: white;
            border-radius: 24px;
            padding: 28px 24px;
            margin: 24px 0;
            max-width: 340px;
            box-shadow: 0 10px 40px rgba(199, 80, 80, 0.1);
            border: 2px solid var(--red-light);
            text-align: left;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease 0.3s;
        }

        .card.in-view .apology-box { opacity: 1; transform: translateY(0); }

        .apology-box-title {
            font-family: 'Nanum Myeongjo', serif;
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--red);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .apology-box-content {
            font-size: 0.95rem;
            line-height: 1.9;
            color: var(--gray);
        }

        .apology-box-content strong {
            color: var(--black);
        }

        /* ========== ë³´ìƒ ì¹´ë“œ ========== */
        .gift-card {
            background: linear-gradient(135deg, var(--green-light) 0%, #d4e8cc 100%);
            border-radius: 24px;
            padding: 28px 24px;
            margin: 24px 0;
            max-width: 340px;
            border: 2px solid var(--green);
            text-align: center;
            opacity: 0;
            transform: scale(0.9);
            transition: all 0.6s ease 0.3s;
        }

        .card.in-view .gift-card { opacity: 1; transform: scale(1); }

        .gift-icon {
            font-size: 3.5rem;
            margin-bottom: 16px;
        }

        .gift-title {
            font-family: 'Nanum Myeongjo', serif;
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--green);
            margin-bottom: 12px;
        }

        .gift-desc {
            font-size: 1rem;
            color: var(--gray);
            line-height: 1.7;
            margin-bottom: 16px;
        }

        .gift-highlight {
            background: white;
            border-radius: 16px;
            padding: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .gift-product {
            font-size: 2.5rem;
        }

        .gift-info {
            text-align: left;
        }

        .gift-name {
            font-weight: 700;
            color: var(--black);
            font-size: 1.1rem;
        }

        .gift-amount {
            font-size: 0.9rem;
            color: var(--green);
            font-weight: 600;
        }

        /* ========== ê¸°ê°„ ë°°ì§€ ========== */
        .period-badge {
            display: inline-block;
            background: var(--red);
            color: white;
            padding: 12px 24px;
            border-radius: 30px;
            font-size: 1rem;
            font-weight: 700;
            margin: 16px 0;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease 0.4s;
        }

        .card.in-view .period-badge { opacity: 1; transform: translateY(0); }

        /* ========== íƒ€ì„ë¼ì¸ ========== */
        .timeline {
            max-width: 320px;
            margin: 24px 0;
        }

        .timeline-item {
            display: flex;
            gap: 16px;
            text-align: left;
            margin-bottom: 20px;
            opacity: 0;
            transform: translateX(-20px);
            transition: all 0.6s ease;
        }

        .card.in-view .timeline-item { opacity: 1; transform: translateX(0); }
        .card.in-view .timeline-item:nth-child(1) { transition-delay: 0.2s; }
        .card.in-view .timeline-item:nth-child(2) { transition-delay: 0.4s; }
        .card.in-view .timeline-item:nth-child(3) { transition-delay: 0.6s; }

        .timeline-icon {
            width: 48px;
            height: 48px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4rem;
            flex-shrink: 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }

        .timeline-content {
            flex: 1;
            padding-top: 4px;
        }

        .timeline-title {
            font-weight: 700;
            color: var(--black);
            margin-bottom: 4px;
        }

        .timeline-desc {
            font-size: 0.9rem;
            color: var(--gray);
            line-height: 1.6;
        }

        /* ========== CTA ë²„íŠ¼ ========== */
        .cta-button {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: var(--green);
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            padding: 18px 40px;
            border-radius: 50px;
            text-decoration: none;
            margin-top: 24px;
            box-shadow: 0 12px 35px rgba(74, 103, 65, 0.35);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1) 0.5s;
        }

        .card.in-view .cta-button { opacity: 1; transform: translateY(0); }
        .cta-button:active { transform: scale(0.97); }
        .cta-button svg { width: 20px; height: 20px; fill: white; }

        /* ========== ìŠ¤í¬ë¡¤ ì¸ë””ì¼€ì´í„° ========== */
        .scroll-indicator {
            position: fixed;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .scroll-dot {
            width: 5px;
            height: 5px;
            border-radius: 50%;
            background: rgba(0,0,0,0.15);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .scroll-dot.active { height: 18px; border-radius: 3px; background: var(--green); }

        /* ========== ì„œëª… ========== */
        .signature {
            margin-top: 32px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease 0.6s;
        }

        .card.in-view .signature { opacity: 1; transform: translateY(0); }

        .signature-text {
            font-family: 'Nanum Myeongjo', serif;
            font-size: 1.1rem;
            color: var(--gray);
            line-height: 1.8;
        }

        .signature-name {
            font-weight: 700;
            color: var(--black);
            margin-top: 8px;
        }

        /* ========== ì˜ê²¬ ì„¹ì…˜ ========== */
        .opinion-section { width: 100%; max-width: 380px; }

        .write-area {
            background: white;
            border-radius: 24px;
            padding: 22px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.08);
            margin-bottom: 20px;
        }

        .write-label { font-size: 0.9rem; color: var(--green); font-weight: 600; margin-bottom: 14px; }
        .write-input {
            width: 100%;
            border: none;
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 1rem;
            line-height: 1.7;
            resize: none;
            outline: none;
            min-height: 90px;
            color: var(--black);
            background: transparent;
        }
        .write-input::placeholder { color: #bbb; }

        .write-footer {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid #f0f0f0;
        }

        .write-name {
            width: 100%;
            border: 2px solid #f0f0f0;
            border-radius: 14px;
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 1rem;
            padding: 14px 16px;
            outline: none;
            color: var(--black);
            background: var(--green-light);
            transition: all 0.3s ease;
        }
        .write-name:focus { border-color: var(--green); background: white; }
        .write-name::placeholder { color: #999; }

        .write-submit {
            width: 100%;
            background: var(--green);
            color: white;
            border: none;
            padding: 16px 24px;
            border-radius: 16px;
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 1.05rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .write-submit:active { transform: scale(0.98); }
        .write-submit:disabled { background: #ccc; }
        .write-submit svg { width: 18px; height: 18px; fill: white; }

        .opinion-list-area {
            background: rgba(255,255,255,0.8);
            border-radius: 20px;
            padding: 18px;
            max-height: 200px;
            overflow-y: auto;
        }
        .opinion-list-title { font-size: 0.85rem; color: var(--gray); margin-bottom: 12px; font-weight: 500; }
        .opinion-list-item { padding: 12px 0; border-bottom: 1px solid rgba(0,0,0,0.05); text-align: left; }
        .opinion-list-item:last-child { border-bottom: none; }
        .opinion-list-text { font-size: 0.95rem; color: var(--black); line-height: 1.6; margin-bottom: 5px; }
        .opinion-list-meta { font-size: 0.75rem; color: var(--gray-light); }
        .opinion-list-empty { text-align: center; color: var(--gray-light); font-size: 0.9rem; padding: 25px 15px; }

        .toast {
            position: fixed;
            bottom: 90px;
            left: 50%;
            transform: translateX(-50%) translateY(20px);
            background: var(--green);
            color: white;
            padding: 14px 28px;
            border-radius: 30px;
            font-size: 1rem;
            font-weight: 500;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 2000;
            box-shadow: 0 10px 30px rgba(74, 103, 65, 0.35);
        }
        .toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }

        html::-webkit-scrollbar { width: 0; display: none; }
    </style>
</head>
<body>

    <!-- ë§¤ê±°ì§„ í—¤ë” -->
    <header class="magazine-header">
        <div class="magazine-brand">
            <div class="brand-logo">
                <div class="logo-circle">ë‘ë ˆ</div>
                <span class="logo-text">ë‘ë ˆìƒí˜‘</span>
            </div>
            <div class="brand-divider"></div>
            <span class="magazine-title">ì¡°í•©ì›ë‹˜ê»˜ ë“œë¦¬ëŠ” ë§ì”€</span>
        </div>
    </header>

    <div class="scroll-indicator" id="scrollIndicator"></div>

    <!-- 0. ì¸íŠ¸ë¡œ - ì‚¬ê³¼ -->
    <section class="card card-apology" data-index="0">
        <h1 class="card-title fade-up">
            ì¡°í•©ì›ë‹˜ê»˜<br>
            <em>ì†¡êµ¬í•œ ë§ˆìŒ</em>ì„ ì „í•©ë‹ˆë‹¤
        </h1>
        <p class="card-desc fade-up">
            1ì›” 1ì£¼ ê°•ì›ì‚¬ê³¼ íŠ¹ë³„í• ì¸<br>
            ë¯¿ì–´ì£¼ì‹  ë§ˆìŒì— ë³´ë‹µí•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤
        </p>
        
        <div class="intro-scroll-hint">
            <span>ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤</span>
            <svg viewBox="0 0 24 24"><path d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"/></svg>
        </div>
    </section>

    <!-- 1. ì§„ì‹¬ ì–´ë¦° ì‚¬ê³¼ -->
    <section class="card card-cream" data-index="1">
        <p class="card-eyebrow fade-up">ìƒì‚°ìì˜ ë§ˆìŒ</p>
        <h2 class="card-title fade-up">
            ì§ê±°ë˜ì˜ ë¯¿ìŒì„<br>
            <em>ì§€í‚¤ì§€ ëª»í•´ ì†¡êµ¬í•©ë‹ˆë‹¤</em>
        </h2>
        
        <div class="timeline">
            <div class="timeline-item">
                <div class="timeline-icon">ğŸŒ¡ï¸</div>
                <div class="timeline-content">
                    <div class="timeline-title">ê¸°í›„ ìœ„ê¸°ê°€ ì ì  ì‹¬í•´ì§€ê³  ìˆìŠµë‹ˆë‹¤</div>
                    <div class="timeline-desc">í•´ë§ˆë‹¤ ë‚ ì”¨ ë³€í™”ë¡œ í’ˆì§ˆ ì˜ˆì¸¡ì´ ì–´ë ¤ì›Œì§€ê³  ìˆì–´ìš”</div>
                </div>
            </div>
            <div class="timeline-item">
                <div class="timeline-icon">ğŸ”¬</div>
                <div class="timeline-content">
                    <div class="timeline-title">ë¹„íŒŒê´´ ê²€ì‚¬ê¸°ê°€ ì—†ìŠµë‹ˆë‹¤</div>
                    <div class="timeline-desc">ë‚˜ë¬´ í•œ ê·¸ë£¨ë‹¹ í•˜ë‚˜ì”© ë§›ë´ë„ ë‚˜ë¬´ë§ˆë‹¤ í’ˆì§ˆì´ ë‹¬ë¼ìš”</div>
                </div>
            </div>
            <div class="timeline-item">
                <div class="timeline-icon">ğŸ“¦</div>
                <div class="timeline-content">
                    <div class="timeline-title">ì£¼ë¬¸ëŸ‰ì´ ë§ì•„ ë‹¤ í™•ì¸í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤</div>
                    <div class="timeline-desc">ê°ì‚¬í•œ ë§ˆìŒì— ì„œë‘ë¥´ë‹¤ í’ˆìœ„ê°€ ë–¨ì–´ì§„ ì‚¬ê³¼ë¥¼ ë°›ìœ¼ì‹  ë¶„ë“¤ë„ ê³„ì‹  ê²ƒ ê°™ìŠµë‹ˆë‹¤</div>
                </div>
            </div>
            <div class="timeline-item">
                <div class="timeline-icon">ğŸ’š</div>
                <div class="timeline-content">
                    <div class="timeline-title">ì‘ì€ ë§ˆìŒì´ë‚˜ë§ˆ ì „í•´ë“œë¦½ë‹ˆë‹¤</div>
                    <div class="timeline-desc">ê°™ì€ ì‹¤ìˆ˜ ë°˜ë³µí•˜ì§€ ì•Šê² ìŠµë‹ˆë‹¤</div>
                </div>
            </div>
        </div>
    </section>

    <!-- 2. ë³´ìƒ ì•ˆë‚´ -->
    <section class="card card-cream" data-index="2">
        <p class="card-eyebrow fade-up" style="color: var(--green);">ìƒì‚°ì§€ì—ì„œ ë³´ë‚´ë“œë¦½ë‹ˆë‹¤</p>
        <h2 class="card-title fade-up">
            <em>ë¬´ë†ì•½ ë¬´ 2ê°œ</em><br>
            í•¨ê»˜ ë³´ë‚´ë“œë¦´ê²Œìš”
        </h2>
        
        <div class="gift-card">
            <div class="gift-icon" style="width: 80px; height: 80px; border-radius: 50%; overflow: hidden; margin: 0 auto 16px;">
                <img src="https://dureimg.ecoop.or.kr:9091/Delsys/DLOG/Goods/GoodsMaster/GoodsImage/39405B.jpg" alt="ë¬´ë†ì•½ ë¬´" style="width: 100%; height: 100%; object-fit: cover;">
            </div>
            <div class="gift-title">ë‹¤ë¥¸ ë°­ì—ì„œ í‚¤ìš´ ë¬´ë†ì•½ ë¬´</div>
            <div class="gift-desc">
                í•´ë‹¹ ì£¼ê°„ì— êµ¬ë§¤í•˜ì…¨ë˜<br>
                <strong>ëª¨ë“  ì¡°í•©ì›ë‹˜ê»˜</strong><br>
                ìƒì‚°ì§€ì—ì„œ ë³´ë‚´ë“œë¦½ë‹ˆë‹¤
            </div>
            <div class="gift-highlight">
                <div class="gift-product" style="width: 60px; height: 60px; border-radius: 12px; overflow: hidden;">
                    <img src="https://dureimg.ecoop.or.kr:9091/Delsys/DLOG/Goods/GoodsMaster/GoodsImage/39405B.jpg" alt="ë¬´" style="width: 100%; height: 100%; object-fit: cover;">
                </div>
                <div class="gift-info">
                    <div class="gift-name">ë¬´ë†ì•½ ë¬´</div>
                    <div class="gift-amount">2ê°œ ì¦ì •</div>
                </div>
            </div>
        </div>
        
        <div class="period-badge">ğŸ“… 1ì›” ë§ê¹Œì§€ ì˜¨ë¼ì¸ ì£¼ë¬¸ ì‹œ ìë™ ì¦ì •</div>
        
        <p class="card-desc fade-up" style="margin-top: 16px; font-size: 0.95rem;">
            ë³„ë„ ì‹ ì²­ ì—†ì´<br>
            ìƒì‚°ì§€ì—ì„œ ì§ì ‘ ë³´ë‚´ë“œë¦½ë‹ˆë‹¤
        </p>
    </section>

    <!-- 3. ìƒì‚°ì§€ì— í•œë§ˆë”” -->
    <section class="card card-warm" data-index="3">
        <p class="card-eyebrow fade-up">ğŸ’¬ ì¡°í•©ì›ë‹˜ì˜ ì´ì•¼ê¸°</p>
        <h2 class="card-title fade-up">
            <em>ê°•ì›ë„ ì‚¬ê³¼ ìƒì‚°ì</em>ë‹˜ê»˜<br>
            í•œë§ˆë”” ë‚¨ê²¨ì£¼ì„¸ìš”!
        </h2>
        
        <div class="opinion-section fade-up">
            <div class="write-area">
                <div class="write-label">âœï¸ ì‘ì›, ì œì•ˆ, ê¶ê¸ˆí•œ ì  ë­ë“  ì¢‹ì•„ìš”!</div>
                <textarea class="write-input" id="opinionText" placeholder="ìƒì‚°ìë‹˜ê»˜ ì „í•˜ê³  ì‹¶ì€ ì´ì•¼ê¸°ë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”"></textarea>
                <div class="write-footer">
                    <input type="text" class="write-name" id="opinionName" placeholder="âœï¸ ì´ë¦„ ì…ë ¥ (ì„ íƒì‚¬í•­)">
                    <button class="write-submit" id="submitBtn" onclick="submitOpinion()">
                        ì´ì•¼ê¸° ë“±ë¡í•˜ê¸°
                        <svg viewBox="0 0 24 24"><path d="M2,21L23,12L2,3V10L17,12L2,14V21Z"/></svg>
                    </button>
                </div>
            </div>
            
            <div class="opinion-list-area">
                <div class="opinion-list-title">ğŸ’¬ ì¡°í•©ì›ë‹˜ë“¤ì˜ í•œë§ˆë””</div>
                <div id="opinionList">
                    <div class="opinion-list-empty">ì²« ë²ˆì§¸ ì‘ì›ì„ ë‚¨ê²¨ì£¼ì„¸ìš”!</div>
                </div>
            </div>
        </div>
    </section>

    <!-- 4. ë§ˆë¬´ë¦¬ -->
    <section class="card card-green" data-index="4">
        <p class="card-eyebrow fade-up">ìƒì‚°ìì™€ ì¡°í•©ì›ì´ í•¨ê»˜</p>
        <h2 class="card-title fade-up">
            <em>ì–¼êµ´ ë³´ë©°</em> ë“œë¦¬ëŠ”<br>
            ì§ê±°ë˜ì˜ ì•½ì†<br>
            ì§€í‚¤ê² ìŠµë‹ˆë‹¤
        </h2>
        <p class="card-desc fade-up">
            29ë…„ê°„ ìŒ“ì•„ì˜¨ ì‹ ë¢°<br>
            í•œ ë²ˆì˜ ì‹¤ìˆ˜ë¡œ ë¬´ë„ˆì§€ì§€ ì•Šë„ë¡<br>
            ë”ìš± ì •ì„±ì„ ë‹¤í•˜ê² ìŠµë‹ˆë‹¤
        </p>
        
        <div class="signature">
            <p class="signature-text">
                ëŠ˜ ë¯¿ì–´ì£¼ì‹œëŠ”<br>
                ì¡°í•©ì›ë‹˜ê»˜ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤
            </p>
            <p class="signature-name">ê°•ì› ì‚¬ê³¼ ìƒì‚°ì§€ Â· ë‘ë ˆìƒí˜‘ ë“œë¦¼ ğŸ™</p>
        </div>
        
        <a href="https://ecoop.or.kr" class="cta-button">
            <span>ë‘ë ˆìƒí˜‘ ë°”ë¡œê°€ê¸°</span>
            <svg viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"/></svg>
        </a>
    </section>

    <div class="toast" id="toast">ì†Œì¤‘í•œ ì´ì•¼ê¸° ê°ì‚¬í•©ë‹ˆë‹¤ ğŸ</div>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc, query, orderBy, limit, onSnapshot, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDrb6CvMBn9jSfDeuwWseJywFHLbChNr4U",
            authDomain: "durunioncoop.firebaseapp.com",
            projectId: "durunioncoop",
            storageBucket: "durunioncoop.firebasestorage.app",
            messagingSenderId: "439719435906",
            appId: "1:439719435906:web:3d1d841ad6e80939eb5e9b",
            measurementId: "G-NSEYF1TDCH"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        let opinions = [];

        window.submitOpinion = async function() {
            const textEl = document.getElementById('opinionText');
            const nameEl = document.getElementById('opinionName');
            const submitBtn = document.getElementById('submitBtn');
            const text = textEl.value.trim();
            const name = nameEl.value.trim() || 'ìµëª…ì˜ ì¡°í•©ì›';
            if (!text) { showToast('ì´ì•¼ê¸°ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”'); return; }
            submitBtn.disabled = true;
            try {
                await addDoc(collection(db, "opinions"), { text, name, week: 'apple', createdAt: serverTimestamp() });
                textEl.value = ''; nameEl.value = '';
                showToast('ì†Œì¤‘í•œ ì´ì•¼ê¸° ê°ì‚¬í•©ë‹ˆë‹¤ ğŸ');
            } catch (error) { 
                console.error('Firebase error:', error);
                showToast('ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”'); 
            }
            finally { submitBtn.disabled = false; }
        };

        const q = query(collection(db, "opinions"), orderBy("createdAt", "desc"), limit(100));
        onSnapshot(q, (snapshot) => {
            opinions = [];
            snapshot.forEach((doc) => {
                const data = doc.data();
                if (data.week === 'apple') {
                    opinions.push({ id: doc.id, text: data.text, name: data.name, date: data.createdAt ? formatDate(data.createdAt.toDate()) : 'ë°©ê¸ˆ' });
                }
            });
            updateOpinionList();
        });

        function updateOpinionList() {
            const listEl = document.getElementById('opinionList');
            if (opinions.length === 0) { listEl.innerHTML = '<div class="opinion-list-empty">ì²« ë²ˆì§¸ ì‘ì›ì„ ë‚¨ê²¨ì£¼ì„¸ìš”!</div>'; return; }
            listEl.innerHTML = '';
            opinions.slice(0, 10).forEach((op) => {
                const item = document.createElement('div');
                item.className = 'opinion-list-item';
                item.innerHTML = `<p class="opinion-list-text">${escapeHtml(op.text)}</p><p class="opinion-list-meta">${escapeHtml(op.name)} Â· ${op.date}</p>`;
                listEl.appendChild(item);
            });
        }

        function formatDate(date) {
            const diff = Date.now() - date;
            const m = Math.floor(diff / 60000), h = Math.floor(diff / 3600000), d = Math.floor(diff / 86400000);
            if (m < 1) return 'ë°©ê¸ˆ'; if (m < 60) return `${m}ë¶„ ì „`; if (h < 24) return `${h}ì‹œê°„ ì „`; if (d < 7) return `${d}ì¼ ì „`;
            return date.toLocaleDateString('ko-KR');
        }
        function escapeHtml(text) { const div = document.createElement('div'); div.textContent = text; return div.innerHTML; }
        function showToast(msg) { const t = document.getElementById('toast'); t.textContent = msg; t.classList.add('show'); setTimeout(() => t.classList.remove('show'), 2500); }
        window.showToast = showToast;
    </script>

    <script>
        // ìŠ¤í¬ë¡¤ ì¸ë””ì¼€ì´í„°
        const cards = document.querySelectorAll('.card');
        const indicatorContainer = document.getElementById('scrollIndicator');
        
        cards.forEach((_, i) => {
            const dot = document.createElement('div');
            dot.className = 'scroll-dot' + (i === 0 ? ' active' : '');
            dot.addEventListener('click', () => cards[i].scrollIntoView({ behavior: 'smooth' }));
            indicatorContainer.appendChild(dot);
        });

        const dots = document.querySelectorAll('.scroll-dot');

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                const index = parseInt(entry.target.dataset.index);
                if (entry.isIntersecting) {
                    entry.target.classList.add('in-view');
                    dots.forEach((dot, i) => dot.classList.toggle('active', i === index));
                }
            });
        }, { threshold: 0.35 });

        cards.forEach(card => observer.observe(card));
        cards[0].classList.add('in-view');
    </script>

</body>
</html>
